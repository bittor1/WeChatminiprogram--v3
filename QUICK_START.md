# 伦敦必吃榜 - 快速启动指南

## 🚀 5分钟快速启动

### 1. 准备工作
- 安装[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 确保有微信开发者账号

### 2. 导入项目
1. 打开微信开发者工具
2. 选择"导入项目"
3. 项目目录：选择 `/Users/jimmu/vdogo.com/伦敦必吃榜`
4. AppID：`wx29cb754190a5c042`
5. 项目名称：伦敦必吃榜

### 3. 配置云开发环境
1. 点击工具栏的"云开发"按钮
2. 如果没有环境，创建一个新环境
3. 环境ID设置为：`cloud1-2g2sby6z920b76cb`
4. 或在 `app.js` 中修改环境ID为您的环境

### 4. 初始化数据库
1. 在云开发控制台创建以下集合：
   - `users` - 用户信息
   - `entries` - 餐厅条目
   - `votes` - 投票记录
   - `comments` - 评论记录
   - `orders` - 订单记录

2. 上传云函数（右键点击每个云函数文件夹 -> 上传并部署）：
   - `userManage` - 用户管理
   - `nominationManage` - 提名管理
   - `voteManage` - 投票管理
   - `commentManage` - 评论管理
   - `contentReview` - 内容审核
   - `statistics` - 统计功能
   - `dbInit` - 数据库初始化

### 5. 快速测试
1. 点击"编译"按钮
2. 在模拟器中查看效果
3. 扫码在手机上预览

## 🔧 已修复的主要问题

### ✅ 登录逻辑优化
- 修复了自动登录问题
- 优化了用户信息存储
- 改进了授权流程

### ✅ 数据加载改进
- 修复了空数据显示问题
- 优化了数据刷新逻辑
- 改进了错误处理

### ✅ 性能优化
- 增加了图片懒加载
- 优化了数据查询限制
- 改进了加载提示

## 📱 核心功能

1. **排行榜展示** - 查看餐厅投票排名
2. **投票功能** - 为喜欢的餐厅投票
3. **提名餐厅** - 添加新的餐厅
4. **评论功能** - 对餐厅进行评论
5. **分享功能** - 分享给好友和朋友圈

## 🛠 开发调试

### 查看日志
- 在开发者工具的"调试器"中查看 Console 输出
- 云函数日志在"云开发控制台" -> "云函数" -> "日志"

### 常见问题

**Q: 提示"云开发未初始化"**
A: 检查环境ID是否正确，确保已开通云开发

**Q: 数据加载失败**
A: 检查云函数是否已部署，数据库集合是否已创建

**Q: 登录失败**
A: 确保 `userManage` 云函数已正确部署

## 📞 技术支持

如遇到问题，请检查：
1. 控制台错误信息
2. 云函数日志
3. 网络请求状态

项目已经过优化，可以直接运行！