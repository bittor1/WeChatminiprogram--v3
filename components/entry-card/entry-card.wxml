<view class="entry-card" bindtap="{{isEditing ? '' : 'onCardTap'}}" data-id="{{entry._id}}">
  <!-- å¤´åƒåŒºåŸŸ -->
  <view class="avatar-section">
    <view wx:if="{{isEditing}}" class="avatar-edit" catchtap="onAvatarEditTap">
      <image class="avatar" src="{{editAvatarUrl || entry.avatarUrl || '/images/placeholder-user.jpg'}}" mode="aspectFill" />
      <view class="avatar-edit-overlay">
        <text class="edit-icon">ğŸ“·</text>
      </view>
    </view>
    <image wx:else class="avatar" src="{{entry.avatarUrl || '/images/placeholder-user.jpg'}}" mode="aspectFill" />
  </view>
  
  <!-- ä¿¡æ¯åŒºåŸŸ -->
  <view class="info-section" catchtap="{{isEditing ? 'preventCardTap' : ''}}">
    <input wx:if="{{isEditing}}" 
           class="username-input" 
           value="{{editName}}" 
           placeholder="è¯·è¾“å…¥å§“å"
           bindinput="onNameInput" />
    <text wx:else class="username">{{entry.name || 'æœªçŸ¥ç”¨æˆ·'}}</text>
  </view>
  
  <!-- æ“ä½œåŒºåŸŸ -->
  <view class="action-section" catchtap="preventCardTap">
    <block wx:if="{{isEditing}}">
      <view class="action-btn save-btn" catchtap="onSaveTap" data-id="{{entry._id}}">
        <text class="icon">âœ…</text>
      </view>
      <view class="action-btn cancel-btn" catchtap="onCancelTap">
        <text class="icon">âŒ</text>
      </view>
    </block>
    <block wx:else>
      <view class="action-btn edit-btn" catchtap="onEditTap" data-id="{{entry._id}}">
        <text class="icon">âœï¸</text>
      </view>
      <view class="action-btn delete-btn" catchtap="onDeleteTap" data-id="{{entry._id}}">
        <text class="icon">ğŸ—‘ï¸</text>
      </view>
    </block>
  </view>
</view>